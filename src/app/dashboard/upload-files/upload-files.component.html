<app-sidebar>
  <div class="upload-container">
    <div class="header">
      <mat-icon class="icon-header">info</mat-icon>
      <h2>Cargar Excel y generar documento FOLAB</h2>
    </div>

    <mat-vertical-stepper [linear]="false">
      <mat-step>
        <ng-template matStepLabel>Datos de recepción</ng-template>
        <div class="step-title-reception">
          <p>Ingresa los siguientes datos.</p>
        </div>
        <div class="step-content-form">
          <form [formGroup]="clienteForm" class="form-wrapper two-columns">
            <mat-form-field appearance="outline" class="custom-input">
              <mat-icon matPrefix>person</mat-icon>
              <input
                matInput
                placeholder="Nombre completo o razón social del cliente*"
              />
            </mat-form-field>

            <mat-form-field appearance="outline" class="custom-input">
              <mat-icon matPrefix>location_on</mat-icon>
              <input matInput placeholder="Dirección*" />
            </mat-form-field>

            <mat-form-field
              appearance="outline"
              class="custom-input full-width"
            >
              <mat-icon matPrefix>phone</mat-icon>
              <input matInput placeholder="Teléfono*" type="phone" />
            </mat-form-field>

            <mat-form-field
              appearance="outline"
              class="custom-input full-width"
            >
              <mat-icon matPrefix>device_thermostat</mat-icon>
              <input matInput placeholder="Temperatura del laboratorio*" />
            </mat-form-field>
          </form>
        </div>

        <app-buttons-below
          [showButtonLeft]="false"
          [showButtonRight]="true"
          textButtonRight="Siguiente"
        ></app-buttons-below>
      </mat-step>

      <mat-step>
        <ng-template matStepLabel>Reportes de cálculos de Excel</ng-template>
        <div
          class="step-content"
          (drop)="onFileDrop($event)"
          (dragover)="onDragOver($event)"
          (dragleave)="onDragLeave($event)"
          [class.drag-over]="isDragOver"
        >
          <mat-icon class="icon-upload">cloud_upload</mat-icon>
          <p>
            Arrastra o selecciona los archivos de cada prueba en formato (.xlsx)
          </p>
          <input
            #fileInput
            type="file"
            accept=".xlsx"
            multiple
            style="display: none"
            (change)="onFileSelected($event)"
          />

          <button type="button" (click)="fileInput.click()" class="btnUploadFile" mat-raised-button>
            Seleccionar archivos
          </button>
        </div>

        <div
          *ngIf="uploadedFiles.length > 0"
          style="margin-top: 20px; padding: 0 20px"
        >
          <h4 style="font-family: 'Alata', sans-serif; color: #156f9c">
            Archivos seleccionados:
          </h4>
          <ul style="font-family: 'Alata', sans-serif; font-size: 15px">
            <li *ngFor="let file of uploadedFiles">{{ file.name }}</li>
          </ul>
        </div>
        <app-buttons-below
          [showButtonLeft]="true"
          [showButtonRight]="true"
          textButtonRight="Siguiente"
          textButtonLeft="Regresar"
        ></app-buttons-below>
      </mat-step>

      <mat-step>
        <ng-template matStepLabel>Realizar FOLAB</ng-template>
        <div class="step-content-prewview">
          <div class="summary-block">
            <h3>Datos de recepción</h3>
            <p><strong>Nombre o razón social del cliente:</strong> Pedro</p>
            <p><strong>Dirección:</strong> nose</p>
            <p><strong>Teléfono:</strong> hola</p>
            <p>
              <strong>Temperatura del laboratorio:</strong>
              40 °C
            </p>
          </div>

          <div class="summary-block">
            <h3>Archivos cargados</h3>
            <ul>
              <li>Humedad: cenizas.pdf</li>
              <li>Cenizas: cenizas.pdf</li>
              <li>Proteínas: cenizas.pdf</li>
              <li>Grasas: cenizas.pdf</li>
            </ul>
          </div>
        </div>
        <app-buttons-below
          [showButtonLeft]="true"
          [showButtonRight]="true"
          textButtonRight="Finalizar"
          textButtonLeft="Regresar"
        ></app-buttons-below>
      </mat-step>
    </mat-vertical-stepper>
  </div>
</app-sidebar>
